const callbackStack=[],vscode=acquireVsCodeApi();function command(a,e){if(!a)return;let c=Array.from(arguments);"function"==typeof c[c.length-1]?(e=c[c.length-1],c.length=c.length-1):e=void 0,c.shift();const t=(new Date).getTime()+Math.random();callbackStack.push({messageId:t,callback:e}),vscode.postMessage({messageId:t,command:a,parameter:c})}window.addEventListener("message",a=>{const e=a.data;for(let c=0;c<callbackStack.length;c++){const a=callbackStack[c];if(a.messageId===e.messageId){a.callback&&a.callback(e.payload),callbackStack.splice(c,1);break}}});