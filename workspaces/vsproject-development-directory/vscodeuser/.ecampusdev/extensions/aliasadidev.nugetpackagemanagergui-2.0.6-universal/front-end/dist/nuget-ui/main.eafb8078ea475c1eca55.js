(self.webpackChunknuget_ui=self.webpackChunknuget_ui||[]).push([["main"],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},3814:(t,e,n)=>{"use strict";var o=n(9075),a=n(4693),i=n(665),r=n(6237),c=n(2178),s=n(8607),l=n(1095),g=n(2533),d=n(9699),p=n(9765);let u=(()=>{class t{constructor(){this._counter=0,this.loadingStatus=new p.xQ}get counter(){return this._counter}set counter(t){this._counter=t,this.loadingStatus.next(t)}startLoading(){this.counter++}stopLoading(){this.counter>0&&this.counter--}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=(()=>(function(t){t[t.StartsWith=1]="StartsWith",t[t.Contains=2]="Contains"}(h||(h={})),h))();function m(t,e,n,o){let a=t.find(t=>t.id==e);return a&&(null==a?void 0:a.packageUrl)?null==a?void 0:a.packageUrl.replace("{{packageName}}",n).replace("{{version}}",o):(console.log("packageUrl is empty!",t,e,n),"#")}var f=n(6215),b=n(7574);let x=(()=>{class t{constructor(){this.syncData=new f.X(""),this.changeProjects=this.syncData.asObservable()}syncViews(t){this.syncData.next(t)}reload(t=!1){return new b.y(e=>{command("nugetpackagemanagergui.reload",{loadVersion:t},t=>e.next(t))})}getData(){return new b.y(t=>{command("nugetpackagemanagergui.getData",e=>t.next(e))})}updateAllProjects(){return new b.y(t=>{command("nugetpackagemanagergui.updateAllProjects",e=>t.next(e))})}searchPackage(t,e,n,o){return new b.y(a=>{command("nugetpackagemanagergui.searchPackage",{query:t,skip:e,take:n,packageSourceId:o},t=>a.next(t))})}installPackage(t,e,n){return new b.y(o=>{command("nugetpackagemanagergui.installPackage",{id:t,packageName:e,selectedVersion:n},t=>o.next(t))})}updatePackage(t,e,n){return new b.y(o=>{command("nugetpackagemanagergui.updatePackage",{id:t,packageName:e,selectedVersion:n},t=>o.next(t))})}updateAllPackage(t,e){return new b.y(n=>{command("nugetpackagemanagergui.updateAllPackage",{packageName:t,selectedVersion:e},t=>n.next(t))})}removePackage(t,e,n){return new b.y(o=>{command("nugetpackagemanagergui.removePackage",{id:t,packageName:e,selectedVersion:n},t=>o.next(t))})}getPackageSources(){return new b.y(t=>{command("nugetpackagemanagergui.getPackageSources",e=>t.next(e))})}removeAllPackage(t,e){return new b.y(n=>{command("nugetpackagemanagergui.removeAllPackage",{id:t,packageName:e},t=>n.next(t))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),k=(()=>{class t{constructor(t){this.toasterService=t,this.toastrClicked=new p.xQ}setTimeout(t){return this.toasterService.toastrConfig.timeOut=t||this.toasterService.toastrConfig.timeOut,this.toasterService.toastrConfig}info(t,e,n){this.toasterService.toastrConfig.disableTimeOut=!1,this.setTimeout(n),this.toasterService.info(t,e)}success(t,e,n){this.toasterService.toastrConfig.disableTimeOut=!1,this.setTimeout(n),this.toasterService.success(t,e)}error(t,e,n){this.toasterService.toastrConfig.disableTimeOut=!0,this.toasterService.error(t,e,{disableTimeOut:!0,closeButton:!0,tapToDismiss:!0}).onShown.subscribe(t=>{document.body.click()})}warning(t,e,n,o=!1){this.toasterService.toastrConfig.disableTimeOut=o,this.setTimeout(n),this.toasterService.warning(t,e)}clear(){this.toasterService.clear()}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(d._W))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=n(8583);let v=(()=>{class t{constructor(t){this._el=t,this.onCreate=new a.vpe}ngOnInit(){this.onCreate.emit()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275dir=a.lG2({type:t,selectors:[["","onCreate",""]],outputs:{onCreate:"onCreate"}}),t})();function C(t,e){if(1&t&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t.sourceName)}}function w(t,e){if(1&t&&(a.TgZ(0,"a",32),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit,e=a.oxw(2);a.uIk("href",e.getPackageSourceWebUrl(e.packageSources,t.sourceId,t.packageName,t.packageVersion),a.LSH),a.xp6(1),a.Oqu(t.sourceName)}}function P(t,e){if(1&t&&(a.TgZ(0,"option"),a._uU(1),a.qZA()),2&t){const t=e.$implicit,n=a.oxw().$implicit;a.uIk("value",t)("selected",t==n.newerVersion?"selected":null),a.xp6(1),a.Oqu(t)}}function S(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"tr",24),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a.YNc(4,C,2,1,"span",25),a.YNc(5,w,2,2,"a",26),a.qZA(),a.TgZ(6,"td"),a._uU(7),a.qZA(),a.TgZ(8,"td"),a.TgZ(9,"select",27,28),a.NdJ("change",function(){const e=a.CHM(t).$implicit,n=a.MAs(10),o=a.oxw().$implicit;return a.oxw().change(o.id,e.packageName,n.value)})("onCreate",function(){const e=a.CHM(t).$implicit,n=a.oxw().$implicit;return a.oxw().change(n.id,e.packageName,e.newerVersion)}),a.YNc(11,P,2,3,"option",29),a.qZA(),a.qZA(),a.TgZ(12,"td",30),a.TgZ(13,"span"),a._uU(14),a.qZA(),a.qZA(),a.TgZ(15,"td"),a._uU(16),a.qZA(),a.TgZ(17,"td"),a.TgZ(18,"button",31),a.NdJ("click",function(){const e=a.CHM(t).$implicit,n=a.oxw().$implicit;return a.oxw().update(n.id,e.packageName)}),a._uU(19,"Update"),a.qZA(),a.TgZ(20,"button",31),a.NdJ("click",function(){const e=a.CHM(t).$implicit,n=a.oxw().$implicit;return a.oxw().updateAll(n.id,e.packageName)}),a._uU(21,"Update All"),a.qZA(),a.TgZ(22,"button",31),a.NdJ("click",function(){const e=a.CHM(t).$implicit,n=a.oxw().$implicit;return a.oxw().remove(n.id,e.packageName)}),a._uU(23,"Remove"),a.qZA(),a.TgZ(24,"button",31),a.NdJ("click",function(){const e=a.CHM(t).$implicit,n=a.oxw().$implicit;return a.oxw().removeAll(n.id,e.packageName)}),a._uU(25,"Remove All"),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,n=a.oxw(2);a.Q6J("hidden",!n.searchFilter(t.packageName)),a.xp6(2),a.Oqu(t.packageName),a.xp6(2),a.Q6J("ngIf",null==t.sourceId),a.xp6(1),a.Q6J("ngIf",t.sourceId),a.xp6(2),a.Oqu(t.packageVersion),a.xp6(2),a.uIk("value",t.newerVersion),a.xp6(2),a.Q6J("ngForOf",t.versionList),a.xp6(2),a.uIk("class",n.getVersionStyle(t)),a.xp6(1),a.Oqu(n.getVersion(t)),a.xp6(2),a.Oqu(t.newerVersion)}}function _(t,e){1&t&&(a.TgZ(0,"tr",33),a.TgZ(1,"td",34),a._uU(2,"This project hasn't any package"),a.qZA(),a.qZA())}function O(t,e){if(1&t&&(a.TgZ(0,"div",2),a.TgZ(1,"div",14),a.TgZ(2,"table",15),a.TgZ(3,"thead"),a.TgZ(4,"tr"),a.TgZ(5,"th",16),a._uU(6,"Project Name"),a.qZA(),a.TgZ(7,"th",17),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"tr"),a.TgZ(10,"th",16),a._uU(11,"Project Path"),a.qZA(),a.TgZ(12,"th",17),a._uU(13),a.qZA(),a.qZA(),a.TgZ(14,"tr"),a.TgZ(15,"th",18),a._uU(16,"Package Name"),a.qZA(),a.TgZ(17,"th",19),a._uU(18,"Source Name"),a.qZA(),a.TgZ(19,"th",20),a._uU(20,"Installed Version"),a.qZA(),a.TgZ(21,"th",20),a._uU(22,"Versions"),a.qZA(),a.TgZ(23,"th",21),a._uU(24,"Is Updated"),a.qZA(),a.TgZ(25,"th",21),a._uU(26,"Newer Version"),a.qZA(),a.TgZ(27,"th",18),a._uU(28,"Actions"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"tbody"),a.YNc(30,S,26,10,"tr",22),a.YNc(31,_,3,0,"tr",23),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(8),a.Oqu(t.projectName),a.xp6(5),a.Oqu(t.projectPath),a.xp6(17),a.Q6J("ngForOf",t.packages),a.xp6(1),a.Q6J("ngIf",!(t.packages&&t.packages.length>0))}}let y=(()=>{class t{constructor(t,e,n,o){this.loading=t,this.commandSrv=e,this.alertSrv=n,this.cd=o,this.projects=[],this.packageListVersion={},this.originalPackageSources=[],this.displayedColumns=["PackageName","InstalledVersion","Versions","IsUpdated","NewerVersion","Actions"],this.colSpan=0,this.packageSources=[],this.versionIsLoad=!1,this.searchValue="",this.filterSearchTypes=h,this.filterType=h.Contains,this.getPackageSourceWebUrl=m,this.commandSrv.changeProjects.subscribe(t=>{"getData"===t&&this.getData()})}ngAfterViewInit(){this.loadPackageVersion(!1),this.colSpan=this.displayedColumns.length,this.commandSrv.getPackageSources().subscribe(t=>{Array.isArray(t.result)&&(this.packageSources=t.result)})}getData(){this.loading.startLoading(),this.commandSrv.getData().subscribe(t=>{this.projects=t.result,this.loading.stopLoading(),this.cd.detectChanges()})}loadPackageVersion(t){this.versionIsLoad=this.versionIsLoad||t,this.loading.startLoading(),this.commandSrv.reload(t).subscribe(t=>{this.projects=t.result,this.loading.stopLoading(),this.cd.detectChanges()})}updateAllProjects(){this.loading.startLoading(),0==this.versionIsLoad?this.commandSrv.reload(!0).subscribe(()=>{this.versionIsLoad=!0,this.commandSrv.updateAllProjects().subscribe(()=>{this.loading.stopLoading(),this.getData()})}):this.commandSrv.updateAllProjects().subscribe(t=>{this.loading.stopLoading(),this.getData()})}getVersion(t){const e="Unknown"!==t.newerVersion;return t.isUpdated&&e?"Yes":e?"No":"Unknown"}getVersionStyle(t){const e="Unknown"!==t.newerVersion;return t.isUpdated&&e?"badge badge-success":e?"badge badge-danger":"badge badge-secondary"}update(t,e){if(this.versionIsLoad){const n=this.getSelectedVersion(t,e);this.commandSrv.updatePackage(t,e,n).subscribe(t=>{this.getData()})}else this.alertSrv.error("Load the package versions first","Error")}updateAll(t,e){if(this.versionIsLoad){const n=this.getSelectedVersion(t,e);this.commandSrv.updateAllPackage(e,n).subscribe(()=>{this.getData()})}else this.alertSrv.error("Load the package versions first","Error")}remove(t,e){const n=this.getSelectedVersion(t,e);this.commandSrv.removePackage(t,e,n).subscribe(t=>{this.getData()})}removeAll(t,e){this.commandSrv.removeAllPackage(t,e).subscribe(t=>{this.getData()})}change(t,e,n){this.packageListVersion[t+"."+e]=n}getSelectedVersion(t,e){return this.packageListVersion[`${t}.${e}`]}searchFilter(t){let e=!0;return this.searchValue&&(e=this.filterType==h.StartsWith?t.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()):t.toLocaleLowerCase().includes(this.searchValue.toLocaleLowerCase())),e}onSwitchFilterType(){this.searchValue&&this.cd.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(u),a.Y36(x),a.Y36(k),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-project-list"]],decls:21,vars:6,consts:[[1,"container-fluid",2,"max-width","1400px"],[1,"row"],[1,"col-md-12"],[1,"search-box","mt-3","col-md-6","order-2","order-sm-1",2,"display","flex"],[1,"input-group"],["type","text","placeholder","Search in packages...",1,"form-control",2,"height","auto",3,"ngModel","ngModelChange"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ml-1","mr-1"],["type","radio","name","filter-search-type",1,"mr-1",3,"value","ngModel","ngModelChange"],[1,"btn-box","mt-3","col-md-6","order-1","order-sm-2"],["mat-raised-button","","color","primary",2,"margin-right","3px",3,"click"],["mat-raised-button","","color","primary",1,"ml-1",3,"click"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"project-container"],[1,"table","project-table"],["colspan","1"],["colspan","6",2,"text-align","left"],[2,"width","30%"],[2,"width","8%"],[2,"width","10%"],[2,"width","6%"],["class","tr-package",3,"hidden",4,"ngFor","ngForOf"],["class","tr-package",4,"ngIf"],[1,"tr-package",3,"hidden"],[4,"ngIf"],["class","packageUrl","target","_blank",4,"ngIf"],[1,"versions-option",3,"change","onCreate"],["t",""],[4,"ngFor","ngForOf"],[1,"version-style"],["type","button",1,"btn","btn-default-sm","btn-sm",3,"click"],["target","_blank",1,"packageUrl"],[1,"tr-package"],["colspan","7",1,"empty-table"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",1),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.TgZ(6,"input",5),a.NdJ("ngModelChange",function(t){return e.searchValue=t}),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"span",8),a._uU(10,"Contains"),a.qZA(),a.TgZ(11,"input",9),a.NdJ("ngModelChange",function(t){return e.filterType=t})("ngModelChange",function(){return e.onSwitchFilterType()}),a.qZA(),a.TgZ(12,"span",8),a._uU(13,"StartsWith"),a.qZA(),a.TgZ(14,"input",9),a.NdJ("ngModelChange",function(t){return e.filterType=t})("ngModelChange",function(){return e.onSwitchFilterType()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"div",10),a.TgZ(16,"button",11),a.NdJ("click",function(){return e.updateAllProjects()}),a._uU(17,"Update All Packages"),a.qZA(),a.TgZ(18,"button",12),a.NdJ("click",function(){return e.loadPackageVersion(!0)}),a._uU(19,"Load Package Versions"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(20,O,32,4,"div",13),a.qZA(),a.qZA()),2&t&&(a.xp6(6),a.Q6J("ngModel",e.searchValue),a.xp6(5),a.Q6J("value",e.filterSearchTypes.Contains)("ngModel",e.filterType),a.xp6(3),a.Q6J("value",e.filterSearchTypes.StartsWith)("ngModel",e.filterType),a.xp6(6),a.Q6J("ngForOf",e.projects))},directives:[i.Fj,i.JJ,i.On,i._,l.lW,Z.sg,Z.O5,v,i.YN,i.Kr],styles:[".project-container[_ngcontent-%COMP%]{width:100%;margin-top:20px;white-space:nowrap;overflow-x:auto}.project-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:13px;font-weight:500;width:66.09px}.project-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:80%}.project-table[_ngcontent-%COMP%]{border:1px solid #d3d3d3;margin:0 auto 20px;border-spacing:0;padding:2px 3px;text-align:center}.project-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #d3d3d3;background-color:#eaebec;padding:2px 3px;font-size:13px;font-weight:500;color:#000}.project-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{max-height:23px}.project-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 3px;border:1px solid #d3d3d3}.project-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#daecce77}.project-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#727272c5}.btn-box[_ngcontent-%COMP%]{text-align:right}.btn-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;font-size:12px}.btn-sm[_ngcontent-%COMP%]{line-height:1.3!important;margin-top:1px;font-size:.77rem!important}.versions-option[_ngcontent-%COMP%]{width:79px;height:23px}.btn-default-sm[_ngcontent-%COMP%]{margin-left:1px;margin-right:1px;color:#000;background-color:#e1e1e1;border-color:#565454}@media (min-width: 576px){.btn-box[_ngcontent-%COMP%]{order:1}.search-box[_ngcontent-%COMP%]{order:2}}@media (min-width: 768px){.btn-box[_ngcontent-%COMP%]{order:2}.search-box[_ngcontent-%COMP%]{order:1}}@media (min-width: 992px){.btn-box[_ngcontent-%COMP%]{order:2}.search-box[_ngcontent-%COMP%]{order:1}}@media (min-width: 1200px){.btn-box[_ngcontent-%COMP%]{order:2}.search-box[_ngcontent-%COMP%]{order:1}}.project-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .version-style[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000!important}select[_ngcontent-%COMP%]{background:var(--vscode-dropdown-background)!important;color:var(--vscode-dropdown-foreground)!important}"]}),t})();function A(t,e){if(1&t&&(a.TgZ(0,"option",7),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Oqu(t.label)}}function T(t,e){if(1&t&&(a.TgZ(0,"option",8),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.Q6J("value",t.Key),a.xp6(1),a.Oqu(t.Value)}}function M(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"li",9),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw().onListItem(e.Key)}),a._uU(1),a.qZA()}if(2&t){const t=e.$implicit;a.xp6(1),a.Oqu(t.Value)}}let q=(()=>{class t{constructor(t,e){this.eRef=t,this.parent=e,this._dataSource=[],this.label="Select a item",this.formControlName="",this.onChange=()=>{},this.onTouch=()=>{},this.isStyledSelect=!1,this.selectedIndex=null,this.isShowList=!1,this.formControlName=t.nativeElement.getAttribute("formControlName")}set dataSource(t){this._dataSource=t}get dataSource(){return this._dataSource}writeValue(t){var e;if(this.selectedIndex=t,this.selectedIndex){const t=null===(e=this._dataSource.find(t=>t.Key==this.selectedIndex))||void 0===e?void 0:e.Value;this.label=t}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}ngOnInit(){}onStyledSelect(){this.isStyledSelect=!this.isStyledSelect}onListItem(t){var e;this.isStyledSelect=!1,this.label=null===(e=this.dataSource.find(e=>e.Key==t))||void 0===e?void 0:e.Value,this.isShowList=!1,this.parent.control.controls[this.formControlName]&&this.parent.control.controls[this.formControlName].setValue(t)}clickOut(t){this.eRef.nativeElement.contains(t.target)||(this.isShowList=this.isStyledSelect=!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(i.sg))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-drop-down"]],hostBindings:function(t,e){1&t&&a.NdJ("click",function(t){return e.clickOut(t)},!1,a.evT)},inputs:{dataSource:"dataSource",label:"label"},features:[a._Bn([{provide:i.JU,useExisting:(0,a.Gpc)(()=>t),multi:!0}])],decls:8,vars:7,consts:[[1,"select",2,"display","block"],[1,"select-hidden"],["value","hide",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"select-styled",3,"ngClass","click"],[1,"select-options",3,"ngClass","hidden"],[3,"click",4,"ngFor","ngForOf"],["value","hide"],[3,"value"],[3,"click"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"select",1),a.YNc(2,A,2,1,"option",2),a.YNc(3,T,2,2,"option",3),a.qZA(),a.TgZ(4,"div",4),a.NdJ("click",function(){return e.onStyledSelect()}),a._uU(5),a.qZA(),a.TgZ(6,"ul",5),a.YNc(7,M,2,1,"li",6),a.qZA(),a.qZA()),2&t&&(a.xp6(2),a.Q6J("ngIf",e.label),a.xp6(1),a.Q6J("ngForOf",e.dataSource),a.xp6(1),a.Q6J("ngClass",e.isStyledSelect?"active":""),a.xp6(1),a.Oqu(e.label),a.xp6(1),a.Q6J("ngClass",e.isStyledSelect?"active":"")("hidden",!e.isStyledSelect),a.xp6(1),a.Q6J("ngForOf",e.dataSource))},directives:[Z.O5,Z.sg,Z.mk,i.YN,i.Kr],styles:['body[_ngcontent-%COMP%]{font-family:Lato,Arial;color:#fff;padding:20px;background-color:#a7a7a7}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:400;text-transform:uppercase}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;display:block;padding-left:4px}p[_ngcontent-%COMP%]{margin-top:200px}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase;text-decoration:none;display:inline-block;color:#fff;padding:5px 10px;margin:0 5px;background-color:#8b8b8b;transition:all .2s ease-in}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#979797}.select-hidden[_ngcontent-%COMP%]{display:none;visibility:hidden;padding-right:10px}.select[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;position:relative;font-size:16px;color:#fff;width:100%;height:40px}.select-styled[_ngcontent-%COMP%]{text-align:center;position:absolute;top:0;right:0;bottom:0;left:0;background-color:#626168ea;padding:8px 15px;transition:all .2s ease-in}.select-styled[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border:7px solid #0000;border-top-color:#fff;position:absolute;top:16px;right:10px}.select-styled[_ngcontent-%COMP%]:hover{background-color:#9e9e9e}.select-styled.active[_ngcontent-%COMP%], .select-styled[_ngcontent-%COMP%]:active{background-color:#919191}.select-styled.active[_ngcontent-%COMP%]:after, .select-styled[_ngcontent-%COMP%]:active:after{top:9px;border-color:#0000 #0000 #fff}.select-options[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;left:0;z-index:999;margin:0;padding:0;list-style:none;background-color:#8b8b8b}.select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;margin:0;padding:12px 0;text-indent:15px;border-top:1px solid #919191;transition:all .15s ease-in}.select-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#fff;background:#929191}.select-options[_ngcontent-%COMP%]   li[rel=hide][_ngcontent-%COMP%]{display:none}']}),t})();function N(t,e){if(1&t&&(a.TgZ(0,"div",12),a.TgZ(1,"div",13),a._UZ(2,"app-drop-down",14),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(2),a.Q6J("dataSource",t.packageSourceList)}}function U(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",30),a._UZ(1,"path",31),a.qZA())}function I(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",32),a._UZ(1,"path",33),a.qZA())}function L(t,e){if(1&t&&(a.ynx(0),a.TgZ(1,"span"),a._uU(2),a.qZA(),a.BQk()),2&t){const t=e.ngIf;a.xp6(2),a.Oqu(t)}}function V(t,e){if(1&t&&(a.TgZ(0,"span",52),a._uU(1),a.ALo(2,"number"),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" Total Downloads: ",a.xi3(2,1,t.totalDownloads,"0.")," ")}}function J(t,e){if(1&t&&(a.TgZ(0,"option"),a._uU(1),a.qZA()),2&t){const t=e.$implicit,n=a.oxw().$implicit;a.uIk("value",t.version)("selected",n.stableVersion==t.version||null),a.xp6(1),a.Oqu(t.version)}}function j(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"tr",34),a.TgZ(1,"td",35),a._uU(2),a.qZA(),a.TgZ(3,"td"),a.TgZ(4,"div",36),a.TgZ(5,"div",37),a._UZ(6,"img",38),a.qZA(),a.TgZ(7,"div",39),a.TgZ(8,"div",40),a.TgZ(9,"strong",41),a._uU(10),a.qZA(),a.TgZ(11,"p",42),a._uU(12),a.qZA(),a.qZA(),a.TgZ(13,"div",43),a.YNc(14,L,3,1,"ng-container",44),a.qZA(),a.qZA(),a.TgZ(15,"div",45),a.YNc(16,V,3,4,"span",46),a.TgZ(17,"a",47),a._uU(18,"View In Web"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"td",35),a.TgZ(20,"select",48,49),a.NdJ("change",function(){const e=a.CHM(t).$implicit,n=a.MAs(21);return a.oxw(2).change(e.id,n.value)})("onCreate",function(){const e=a.CHM(t).$implicit;return a.oxw(2).change(e.id,e.stableVersion)}),a.YNc(22,J,2,3,"option",50),a.qZA(),a.TgZ(23,"button",51),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw(2).install(e.id)}),a._uU(24,"Install"),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,n=e.index,o=a.oxw().$implicit,i=a.oxw();let r;a.xp6(2),a.Oqu(n+1+(i.sourcesPages[+o.key]-1)*i.itemsPerPage),a.xp6(4),a.Q6J("src",t.iconUrl||"assets/images/default-package-icon.svg",a.LSH),a.xp6(4),a.Oqu(t.id),a.xp6(2),a.hij(" ",t.description," "),a.xp6(2),a.Q6J("ngIf",i.getAuthors(t.authors)),a.xp6(2),a.Q6J("ngIf",t.totalDownloads),a.xp6(1),a.uIk("href",i.getPackageSourceWebUrl(i.originalPackageSources,+o.key,t.id,null!==(r=t.stableVersion)&&void 0!==r?r:""),a.LSH),a.xp6(5),a.Q6J("ngForOf",t.versions)}}function F(t,e){1&t&&(a.TgZ(0,"tr",34),a.TgZ(1,"td",53),a._uU(2,"Empty!"),a.qZA(),a.qZA())}const Y=function(t,e,n,o){return{id:t,itemsPerPage:e,currentPage:n,totalItems:o}};function $(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",15),a.TgZ(1,"table",16),a.TgZ(2,"thead"),a.TgZ(3,"tr"),a.TgZ(4,"th",17),a._uU(5),a.TgZ(6,"button",18),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw().changeCollapseStatus(+e.key)}),a._uU(7," Collapse "),a.YNc(8,U,2,0,"svg",19),a.YNc(9,I,2,0,"svg",20),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"tr",21),a.TgZ(11,"th",22),a._uU(12,"#"),a.qZA(),a.TgZ(13,"th",23),a._uU(14,"Package Details"),a.qZA(),a.TgZ(15,"th",24),a._uU(16,"Action"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"tbody",25),a.YNc(18,j,25,8,"tr",26),a.ALo(19,"paginate"),a.YNc(20,F,3,0,"tr",27),a.qZA(),a.qZA(),a.TgZ(21,"div",28),a.TgZ(22,"pagination-controls",29),a.NdJ("pageChange",function(e){const n=a.CHM(t).$implicit;return a.oxw().sourcesPages[+n.key]=e})("pageChange",function(e){const n=a.CHM(t).$implicit;return a.oxw().pageChanged(e,+n.key)}),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,n=a.oxw();a.Q6J("hidden",!n.isFilterOnSource(+t.key)),a.xp6(5),a.hij(" Source Name: ",t.value.packageSourceName," "),a.xp6(1),a.Q6J("ngClass",n.packageSourceCollapseStatus[+t.key]?"collapse-down":"collapse-up"),a.xp6(2),a.Q6J("ngIf",!n.packageSourceCollapseStatus[+t.key]),a.xp6(1),a.Q6J("ngIf",n.packageSourceCollapseStatus[+t.key]),a.xp6(1),a.Q6J("hidden",n.packageSourceCollapseStatus[+t.key]),a.xp6(7),a.Q6J("hidden",n.packageSourceCollapseStatus[+t.key]),a.xp6(1),a.Q6J("ngForOf",a.xi3(19,10,t.value.packages,a.l5B(13,Y,t.key,n.itemsPerPage,n.sourcesPages[+t.key],t.value.totalHits))),a.xp6(2),a.Q6J("ngIf",!(t.value&&t.value.packages&&t.value.packages.length>0)),a.xp6(2),a.Q6J("id",t.key)}}let Q=(()=>{class t{constructor(t,e,n,o){this.loading=t,this.cd=e,this.commandSrv=n,this.alert=o,this.installForm=new i.cw({projectIndex:new i.NI("",[]),packageSourceId:new i.NI("",[]),searchValue:new i.NI("",[])}),this.itemsPerPage=10,this.projectList=[],this.packageSourceList=[],this.totalPackageSource=0,this.originalPackageSources=[],this.sourcesPages={},this.packageSearchResultList={},this.packageSourceCollapseStatus={},this.packageListVersion={},this.getPackageSourceWebUrl=m}ngAfterViewInit(){this.getData()}getData(){this.loading.startLoading(),this.commandSrv.reload().subscribe(t=>{this.projectList=t.result.map(t=>({Key:t.id.toString(),Value:t.projectName})),this.commandSrv.getPackageSources().subscribe(t=>{Array.isArray(t.result)&&t.result.length>=1&&(this.originalPackageSources=t.result,this.packageSourceList=t.result.map(t=>({Key:t.id.toString(),Value:t.sourceName})),t.result.forEach(t=>{this.packageSearchResultList[t.id]={packageSourceId:t.id,packageSourceName:t.sourceName,packages:[],totalHits:0},this.sourcesPages[t.id]=1}),1==this.packageSourceList.length?(this.totalPackageSource=1,this.installForm.controls.packageSourceId.setValue(this.packageSourceList[0].Key)):(this.totalPackageSource=this.packageSourceList.length,this.packageSourceList.unshift({Key:"0",Value:"All Sources"}),this.installForm.controls.packageSourceId.setValue(this.packageSourceList[0].Key)),this.cd.detectChanges()),1==this.projectList.length&&(this.installForm.controls.projectIndex.setValue(this.projectList[0].Key),this.cd.detectChanges()),this.loading.stopLoading()})})}searchPackage(t,e){this.loading.startLoading();const n=(t-1)*this.itemsPerPage,o=this.itemsPerPage;this.commandSrv.searchPackage(this.installForm.controls.searchValue.value.trim(),n,o,e).subscribe(n=>{n.result.filter(t=>t.packageSourceId==e||null==e).forEach(e=>{this.packageSearchResultList[e.packageSourceId]=e,e.packages.forEach(t=>{t.stableVersion=this.findPackageStableVersion(t.versions)}),this.sourcesPages[e.packageSourceId]=t,this.cd.detectChanges()}),this.loading.stopLoading()})}getPackageSourceId(){const t=this.installForm.controls.packageSourceId.value;let e=null;return"0"!=t&&(e=+t),e}onSearch(){this.searchPackage(1,this.getPackageSourceId())}pageChanged(t,e){this.searchPackage(t,e)}change(t,e){this.packageListVersion[t]=e}isFilterOnSource(t){var e=this.getPackageSourceId();return null==e||e==t}install(t){this.loading.startLoading();const e=this.packageListVersion[t],n=this.installForm.controls.projectIndex.value;n?this.commandSrv.installPackage(parseInt(n),t,e).subscribe(t=>{this.commandSrv.syncViews("getData"),this.loading.stopLoading()}):(this.loading.stopLoading(),this.alert.error("The target project isn't selected, select your target project from the drop-down beside the 'search' button."))}findPackageStableVersion(t){return function(t){const e=/^\d+\.\d+\.\d+(\.\d+)?$/m;let n=t.sort((t,e)=>t.localeCompare(e,void 0,{numeric:!0})).slice().reverse().find(t=>e.test(t));return void 0===n&&t&&t.length>0&&(n=t[t.length-1]),null!=n?n:"Unknown"}(t.map(t=>t.version))}changeCollapseStatus(t){this.packageSourceCollapseStatus[t]=!this.packageSourceCollapseStatus[t]}getAuthors(t){let e=null;return t.authors&&Array.isArray(t.authors)&&t.authors.length>0?e=`Authors: ${t.authors.join(", ")}`:t.authors&&("string"==typeof t.authors||t.authors instanceof String)&&t.authors.length>0&&(e=`Author: ${t.authors}`),e}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(u),a.Y36(a.sBO),a.Y36(x),a.Y36(k))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-install-package"]],decls:14,vars:6,consts:[[1,"container-fluid",2,"max-width","1400px"],[1,"row","pr-3"],[1,"col-md-12","mt-3","pr-0","pl-0"],[3,"formGroup","keydown.enter"],[1,"input-group"],["id","search-input","formControlName","searchValue","type","text","placeholder","Search for... (Press the `Enter` key)","aria-describedby","search-box-group",1,"form-control"],["id","search-box-group",1,"input-group-append",2,"width","400px"],["type","button",1,"btn","btn-primary",3,"click"],[1,"input-group-btn",2,"width","100%","min-width","300px"],["formControlName","projectIndex",3,"dataSource"],["class","mt-3","style","width:340px;float:right;",4,"ngIf"],["class","col-md-12  search-result-box mt-3",3,"hidden",4,"ngFor","ngForOf"],[1,"mt-3",2,"width","340px","float","right"],[1,"input-group-btn"],["formControlName","packageSourceId",3,"dataSource"],[1,"col-md-12","search-result-box","mt-3",3,"hidden"],[1,"install-package-table"],["colspan","3",2,"font-size","medium","text-align","left","font-weight","700"],["type","button",1,"btn","btn-default-sm","btn-sm","collapse-btn",3,"ngClass","click"],["class","ml-1","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-arrow-down-circle","viewBox","0 0 16 16",4,"ngIf"],["class","ml-1","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-arrow-up-circle","viewBox","0 0 16 16",4,"ngIf"],[2,"height","50px",3,"hidden"],[1,"text-center",2,"width","5px","font-weight","600"],[1,"text-center",2,"width","85%","font-weight","600"],[1,"text-center",2,"width","70px","font-weight","600"],[3,"hidden"],["class","tr-package",4,"ngFor","ngForOf"],["class","tr-package",4,"ngIf"],[1,"text-right","mt-3"],[3,"id","pageChange"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-down-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-up-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"],[1,"tr-package"],[1,"center-v-h"],[1,"m-2","d-flex"],[1,"d-flex",2,"min-width","50px"],["width","42px","height","42","onerror","this.src='assets/images/default-package-icon.svg'; this.onerror = null;",1,"mr-2",3,"src"],[1,"d-flex","flex-column",2,"flex","auto"],[1,"mr-2","d-flex"],[1,"mr-1"],[1,"detail-eclips","mb-0"],[1,"d-flex"],[4,"ngIf"],[1,"d-flex","flex-column","d-flex",2,"text-align","right"],["style","white-space: pre;",4,"ngIf"],["target","_blank",1,"packageUrl"],[1,"versions-option",3,"change","onCreate"],["t",""],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-default-sm","btn-sm",3,"click"],[2,"white-space","pre"],["colspan","6",1,"empty-table"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"form",3),a.NdJ("keydown.enter",function(){return e.onSearch()}),a.TgZ(4,"div",4),a._UZ(5,"input",5),a.TgZ(6,"div",6),a.TgZ(7,"button",7),a.NdJ("click",function(){return e.onSearch()}),a._uU(8,"Search"),a.qZA(),a.TgZ(9,"div",8),a._UZ(10,"app-drop-down",9),a.qZA(),a.qZA(),a.qZA(),a.YNc(11,N,3,1,"div",10),a.qZA(),a.qZA(),a.YNc(12,$,23,18,"div",11),a.ALo(13,"keyvalue"),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Q6J("formGroup",e.installForm),a.xp6(7),a.Q6J("dataSource",e.projectList),a.xp6(1),a.Q6J("ngIf",e.packageSourceList&&e.packageSourceList.length>1),a.xp6(1),a.Q6J("ngForOf",a.lcZ(13,4,e.packageSearchResultList)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,q,Z.O5,Z.sg,Z.mk,g.LS,v,i.YN,i.Kr],pipes:[Z.Nd,g._s,Z.JJ],styles:["#search-input[_ngcontent-%COMP%]{height:auto}.center-v-h[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.detail-eclips[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.search-result-box[_ngcontent-%COMP%]{border:1px solid #d3d3d3;margin:0 auto 20px;border-spacing:0;padding:2px 3px;text-align:left}.search-result-box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.search-result-box[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #d3d3d3;background-color:#eaebec;padding:2px 3px;font-size:13px;font-weight:500;color:#000}.search-result-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{max-height:23px}.search-result-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 3px;border:1px solid #d3d3d3}.search-result-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#daecce77}.search-result-box[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#4e60749e}.btn-sm[_ngcontent-%COMP%]{line-height:1.3!important;margin-top:1px;font-size:.88rem!important}.versions-option[_ngcontent-%COMP%]{width:100%;height:23px}.btn-default-sm[_ngcontent-%COMP%]{margin-left:1px;margin-right:1px;color:#000;background-color:#e1e1e1;border-color:#565454}.collapse-btn[_ngcontent-%COMP%]{float:right;border:1px solid #d3d3d3}.collapse-down[_ngcontent-%COMP%]{background-color:#f1f393}.collapse-up[_ngcontent-%COMP%]{background-color:#d2e0dd}.install-package-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .version-style[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000!important}select[_ngcontent-%COMP%]{background:var(--vscode-dropdown-background)!important;color:var(--vscode-dropdown-foreground)!important}  .ngx-pagination li a,   .ngx-pagination li a span{color:var(--vscode-input-foreground)!important}.install-package-table[_ngcontent-%COMP%]{overflow-x:scroll;display:inline-table;width:100%}.search-result-box[_ngcontent-%COMP%]{overflow-x:scroll}"]}),t})();function D(t,e){1&t&&(a.TgZ(0,"section",1),a._UZ(1,"mat-progress-bar",2),a.qZA())}let z=(()=>{class t{constructor(t,e){this.loadingScreenService=t,this.cd=e,this.counter=0,this.loadingSubscription=this.loadingScreenService.loadingStatus.subscribe(t=>{this.counter=t,this.cd.detectChanges()})}ngOnDestroy(){this.loadingSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(u),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-loading-screen"]],decls:1,vars:1,consts:[["id","loading-main",4,"ngIf"],["id","loading-main"],["mode","indeterminate"]],template:function(t,e){1&t&&a.YNc(0,D,2,0,"section",0),2&t&&a.Q6J("ngIf",e.counter)},directives:[Z.O5,c.pW],styles:["#loading-main[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background-color:#e6e6e6;opacity:.8;display:none;z-index:100;text-align:center;display:table;top:0;left:0}"]}),t})(),H=(()=>{class t{constructor(t){this.loadingScreen=t}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(u))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[2,"height","100%",3,"backgroundColor","color","selectedIndex"],["label","Update / Remove Packages"],["label","Install New Package"]],template:function(t,e){1&t&&(a.TgZ(0,"mat-tab-group",0),a.TgZ(1,"mat-tab",1),a._UZ(2,"app-project-list"),a.qZA(),a.TgZ(3,"mat-tab",2),a._UZ(4,"app-install-package"),a.qZA(),a.qZA(),a._UZ(5,"app-loading-screen")),2&t&&a.Q6J("backgroundColor","primary")("color","warn")("selectedIndex",0)},directives:[s.SP,s.uX,y,Q,z],styles:['.mat-tab-body-content[_ngcontent-%COMP%]{height:auto!important;overflow:auto!important}.mat-tab-label[_ngcontent-%COMP%]{background:#3f51b5!important;opacity:1!important}.mat-tab-label.mat-tab-label-active[_ngcontent-%COMP%]{min-width:25px!important;padding:5px;background-color:initial;color:red;font-weight:700}.mat-ink-bar[_ngcontent-%COMP%]{background-color:green!important}  .mat-tab-body-wrapper{height:100%!important}  .packageUrl[href=""],   .packageUrl[href="#"]{pointer-events:none;cursor:not-allowed}']}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t,bootstrap:[H]}),t.\u0275inj=a.cJS({providers:[u],imports:[[o.b2,r.PW,c.Cv,s.Nh,l.ot,i.UX,i.u5,g.JX,d.Rh.forRoot({positionClass:"toast-top-left",preventDuplicates:!1,progressBar:!0,newestOnTop:!0,closeButton:!1,enableHtml:!0,maxOpened:3,timeOut:5e3})]]}),t})();(0,a.G48)(),o.q6().bootstrapModule(B).catch(t=>console.error(t))}},t=>{"use strict";t.O(0,["vendor"],()=>t(t.s=3814)),t.O()}]);